$.fn.redDecoder=function(a){if(this.length>1)return this.each(function(){$(this).redDecoder(a)});var t={glass:{element:this,css:{width:"200px",height:"200px",border:"10px solid gray",background:"rgba(255, 0, 0, 0.8)",cursor:"none"}},canvases:[]},r=$.extend(t,a),e=$(r.glass.element);e.length||(e=$("<div></div>").addClass("jq-red-decoder-glass"),$("body").append(e)),e.css(r.glass.css),r.glass.css.borderRadius||r.glass.css["border-radius"]||e.css("border-radius",Math.ceil(e.width()/2+parseFloat(e.css("border-width").replace("px",""),10))+"px"),e.draggable();for(var o=r.canvases.length;o--;)$(r.canvases[o].element).redEncoder(r.canvases[o]);return this},$.fn.redEncoder=function(a){if(this.length>1)return this.each(function(){$(this).redEncoder(a)});var t=[["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]],r=null,e=null,o=$.extend({element:null,css:{width:"400px",height:"300px",background:"white",backgroundColor:"white"},font:"14px Times New Roman",messages:[]},a),n=parseFloat(o.css.width.replace("px",""),10),h=parseFloat(o.css.height.replace("px",""),10),s=n*h;$(o.element).length?r=$(o.element):this.length?r=this:(r=$("<canvas></canvas>"),$("body").append(r)),r.attr("width",n).attr("height",h).css(o.css),(e=r.get(0).getContext("2d")).font=o.font,e.fillStyle="rgba(255,0,0,0.6)";for(var l=Math.round(s/300);l--;){var d=Math.floor(Math.random()*n),i=Math.floor(Math.random()*h),M=Math.floor(Math.random()*(n/80)),f=Math.floor(Math.random()*(h/80));e.fillRect(d,i,M,f)}for(l=Math.round(s/600);l--;)d=Math.random()*n,i=Math.random()*h,e.fillText(t[Math.floor(2*Math.random())][Math.floor(26*Math.random())],d,i);for(e.fillStyle="rgba(251,132,183,0.8)",l=Math.round(s/40);l--;)d=Math.random()*n,i=Math.random()*h,M=Math.floor(Math.random()*(n/80)),f=Math.floor(Math.random()*(h/80)),e.fillRect(d,i,M,f);for(l=Math.round(s/240);l--;)d=Math.random()*n,i=Math.random()*h,e.fillText(t[Math.floor(1.2*Math.random())][Math.floor(26*Math.random())],d,i);for(e.fillStyle="rgba(235,165,35,0.8)",l=Math.round(s/120);l--;)d=Math.random()*n,i=Math.random()*h,M=Math.floor(Math.random()*(n/80)),f=Math.floor(Math.random()*(h/80)),e.fillRect(d,i,M,f);for(l=Math.round(s/240);l--;)d=Math.random()*n,i=Math.random()*h,e.fillText(t[Math.floor(2*Math.random())][Math.floor(26*Math.random())],d,i);e.fillStyle="rgba(2,197,253,0.5)";for(var m=o.messages.length;m--;){var c=o.messages[m],g=(c.text,c.position);font=c.font||"14px Times New Roman",g||(g={}),g.x||(g.x=Math.max(Math.random()*(n-14*(o.messages[m].text.length-1)),0)),g.y||(g.y=20+Math.random()*(h-20)),e.fillText(o.messages[m].text.split("").join(" "),Math.round(g.x),Math.round(g.y))}return this};